{"body":"# Node Foreman\r\n\r\nNode Foreman is a Node.js version of the popular Foreman tool,\r\nwith a few Node specific changes.\r\n\r\n## Install\r\n\r\nInstall the command line tool\r\n\r\n    $ npm install -g foreman\r\n\r\n## Usage\r\n\r\n### Procfile\r\n\r\nCreate a `Procfile` in the form of:\r\n    \r\n    web: node web_server.js\r\n    api: node api_server.js\r\n    log: node log_server.js\r\n\r\n### Environmental Variables\r\n\r\nOptionally create a `.env` file to pre-load environmental variables:\r\n\r\n    MYSQL_NAME=superman\r\n    MYSQL_PASS=cryptonite\r\n\r\nThe equivalent `.env` file may alternatively be a valid JSON document:\r\n\r\n    {\r\n        \"mysql\":{\r\n            \"name\": \"superman\",\r\n            \"pass\": \"cryptonite\"\r\n        }\r\n    }\r\n\r\nThe above JSON document will be flattened into env variables by \r\nconcatenating the nested values with an underscore.\r\nEnvironmental variables are passed in fully capitalized.\r\n\r\n\r\n    {\r\n        \"mysql\":{\r\n            \"name\": \"superman\",     # => MYSQL_NAME=superman\r\n            \"pass\": \"cryptonite\"    # => MYSQL_PASS=cryptonite\r\n        }\r\n    }\r\n\r\nThere is no need to specify which type of file you wish to use.\r\n\r\n### Basic Usage\r\n\r\nTo start your processes use `nf` (node-foreman):\r\n\r\n    $ nf start\r\n    \r\n    18:51:12: web.1     |  Web Server started listening on 0.0.0.0:5000\r\n    18:51:13: api.1     |  Api Server started listening on 0.0.0.0:5100\r\n    18:51:13: log.1     |  Log Server started listening on 0.0.0.0:5200\r\n\r\nYour module directory should end up looking like the following:\r\n\r\n    /\r\n    ├─ .env\r\n    ├─ package.js\r\n    ├─ server.js\r\n    ├─ Procfile\r\n\r\n### Advanced Usage\r\n\r\nNode Foreman lets you start multiple jobs of the same type:\r\n\r\n    $ nf start web=5\r\n    \r\n    18:51:12: web.1     |  Web Server started listening on 0.0.0.0:5000\r\n    18:51:12: web.2     |  Web Server started listening on 0.0.0.0:5001\r\n    18:51:12: web.3     |  Web Server started listening on 0.0.0.0:5002\r\n    18:51:12: web.4     |  Web Server started listening on 0.0.0.0:5003\r\n    18:51:12: web.5     |  Web Server started listening on 0.0.0.0:5004\r\n\r\nEach job will be started as its own process, receiving a different `PORT`\r\nenvironmental variable. \r\nThe port number for processes of the same type will be offset by 1.\r\nThe port number for processes of different types will be offset by 100.\r\n\r\n    $ nf start web=2,api=2\r\n    \r\n    18:51:12: web.1     |  Web Server started listening on 0.0.0.0:5000\r\n    18:51:12: web.2     |  Web Server started listening on 0.0.0.0:5001\r\n    18:51:12: api.1     |  Api Server started listening on 0.0.0.0:5100\r\n    18:51:12: api.2     |  Api Server started listening on 0.0.0.0:5101\r\n\r\n## Export to Production\r\n\r\nNode Foreman is designed to be in a development environment,\r\nhowever it can export an Upstart job for use in production.\r\nThe Upstart file has _no_ dependency on Node Foreman.\r\n\r\n    $ nf export\r\n    Loaded ENV .env File as JSON Format\r\n    Wrote  :  ./foreman-web-1.conf\r\n    Wrote  :  ./foreman-web.conf\r\n    Wrote  :  ./foreman-api-1.conf\r\n    Wrote  :  ./foreman-api.conf\r\n    Wrote  :  ./foreman-log-1.conf\r\n    Wrote  :  ./foreman-log.conf\r\n    Wrote  :  ./foreman.conf\r\n\r\nYou can inspect your upstart files before placing them in the right\r\ndirectory, or have foreman do it for you:\r\n\r\n    $ sudo nf export -o /etc/init\r\n    Loaded ENV .env File as JSON Format\r\n    Wrote  :  /etc/init/foreman-api-1.conf\r\n    Wrote  :  /etc/init/foreman-web.conf\r\n    Wrote  :  /etc/init/foreman-api.conf\r\n    Wrote  :  /etc/init/foreman-log.conf\r\n    Wrote  :  /etc/init/foreman-log-1.conf\r\n    Wrote  :  /etc/init/foreman-web-1.conf\r\n    Wrote  :  /etc/init/foreman.conf\r\n\r\nStart and stop your jobs with\r\n\r\n    $ sudo start JOBNAME\r\n    $ sudo stop JOBNAME\r\n\r\nThe export will occur with whatever environmental variables are \r\nlisted in the .env file.\r\n\r\nYou can specify the type and number of processes exported using \r\nthe `type=num` syntax:\r\n\r\n    $ nf export -a JOBNAME -o /etc/init web=2,api=2\r\n\r\nUse `-u <USER>` to have the exported job run as `USER`.\r\nNote that if you need to bind to privileged ports, you _must_\r\nstart as `root`. In such a case, we advise you to drop user\r\npermissions after binding.\r\n\r\n","google":"","tagline":"A Node.js Version of Foreman","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Node-foreman"}